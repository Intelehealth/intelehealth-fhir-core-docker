<div class="card intel-card">
  <div class="card-body" *ngIf="modules && modules.length > 0; else noModules">
    <table mat-table [dataSource]="modules" class="full-width-table">
      <!-- ID Column -->
      <ng-container matColumnDef="id">
        <th mat-header-cell *matHeaderCellDef>{{ "ID" | translate }}</th>
        <td mat-cell *matCellDef="let module">{{ module.id }}</td>
      </ng-container>

      <!-- Module Name Column -->
      <ng-container matColumnDef="name">
        <th mat-header-cell *matHeaderCellDef>
          {{ "Module Name" | translate }}
        </th>
        <td mat-cell *matCellDef="let module">{{ module.name }}</td>
      </ng-container>

      <!-- Status Column -->
      <ng-container matColumnDef="status">
        <th mat-header-cell *matHeaderCellDef>{{ "Status" | translate }}</th>
        <td mat-cell *matCellDef="let module">
          <mat-slide-toggle
            [checked]="module.status"
            (change)="updateModuleStatus(module)"
            aria-label="Toggle module status"
            color="primary"
          >
          </mat-slide-toggle>
        </td>
      </ng-container>

      <!-- Table Header and Rows -->
      <tr mat-header-row *matHeaderRowDef="['id', 'name', 'status']"></tr>
      <tr mat-row *matRowDef="let row; columns: ['id', 'name', 'status']"></tr>
    </table>
  </div>

  <!-- No modules available -->
  <ng-template #noModules>
    <mat-card class="no-modules-card">
      <mat-card-content>{{
        "No modules available" | translate
      }}</mat-card-content>
    </mat-card>
  </ng-template>
</div>
